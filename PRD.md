# PRD: Маркетинговый сайт корпоративного LLM-ассистента

## 1. Обзор проекта

### Продукт
Маркетинговый B2B-сайт для продажи услуги внедрения корпоративного LLM-ассистента в закрытом контуре (RAG).

### Услуги
| Тип | Название | Описание |
|-----|----------|----------|
| **Основная** | Корпоративный LLM-ассистент (RAG) | Поиск по внутренним документам/БЗ, ответы со ссылками на источники, RBAC, on-prem/облако РФ |
| **Доп. №1** | Интеграции и автоматизация | LLM-агенты, подключение к 1С/ERP/CRM/ServiceDesk |
| **Доп. №2** | Безопасность и LLMOps | Аудит, red-teaming, мониторинг качества, SLA-поддержка |

### Стек
- **Генерация UI:** v0
- **Фреймворк:** Next.js (App Router)
- **Дизайн-система:** Отдельная (не изобретать стили в v0)

### Цель сайта
Конверсия в заявку на демо/расчёт с квалификацией B2B-лида.

---

## 2. Позиционирование

### Главный дифференциатор
**"Ответы со ссылками на источники"** — отстройка от галлюцинаций публичных LLM.

### One-liner (Hero)
> Корпоративный AI-ассистент в закрытом контуре. Отвечает по вашим документам **со ссылками на источники**. Развёртывание on-prem / в облаке РФ.

### 3 ключевых тезиса
1. **Ответы с источниками** — проще доверять и проверять (RAG)
2. **Контур и доступы** — on-prem/облако РФ + RBAC + аудит
3. **Путь внедрения** — Диагностика → Pilot → Прод → Сопровождение

### Ubiquitous Language
| Термин | Определение |
|--------|-------------|
| **RAG** | Ответы LLM на основе извлечённых фрагментов из документов |
| **Контур** | Инфраструктура заказчика (on-prem/частное облако) |
| **Источники** | Документы/вики/БД, подтверждающие ответ ссылками |
| **RBAC** | Разграничение доступа по ролям (кто что видит) |
| **Pilot (PoC)** | Ограниченная поставка на 1–2 источника для проверки ценности |
| **LLMOps** | Эксплуатация LLM: мониторинг, обновления, red-teaming, SLA |

---

## 3. Bounded Context

### Входит
- Маркетинговый сайт (лендинг с якорями)
- Страницы кейсов
- Форма захвата лидов
- Контент про безопасность/внедрение

### Не входит
- Публичный продукт/чат в открытом доступе
- Биллинг, личные кабинеты
- Интерактивное демо (по умолчанию)

---

## 4. Критерии успеха

| № | Критерий | Success | Failure Mode | Проверка |
|---|----------|---------|--------------|----------|
| 1 | **Ясность оффера** | 80% ICP пересказывают "что это" за 10 сек | "Ещё один чат-бот" | 5-second test |
| 2 | **Конверсия в CTA** | CR ≥ 1–3% на ICP-трафике | Клики есть, заявок нет | Analytics + A/B |
| 3 | **Качество лида** | ≥ 30% проходят в Pilot | Много нерелевантных | Квалиф. поля формы |
| 4 | **Перфоманс** | LCP ≤ 2.5s, CLS ≤ 0.1, INP ≤ 200ms | Тяжёлые ассеты | Lighthouse + RUM |
| 5 | **Доставляемость заявок** | 99.5%+ успешных сабмитов | Потери, спам в почте | Логи + алерты |
| 6 | **Правдивость контента** | Все утверждения с источником | Непроверяемые проценты | Контент-ревью |
| 7 | **Безопасность** | Нет утечек PII, критических CVE | XSS, утечка env | SAST + pentest-lite |

---

## 5. Архитектура сайта

### Роуты (MVP — Вариант A)

```
/                    # Лендинг с якорями
/cases               # Список кейсов + фильтры
/cases/[slug]        # Детальная страница кейса
/request-demo        # Форма демо/расчёта
/thank-you           # Шаги после заявки
/legal/privacy       # Политика обработки данных
```

### Опционально (Вариант B)
```
/security            # Trust-страница для CISO/ИБ
/architecture        # Подробная схема "как работает"
```

### File Structure (Next.js App Router)

```
app/
  layout.tsx
  page.tsx                     # Лендинг с якорями
  cases/
    page.tsx                   # Список + фильтры
    [slug]/
      page.tsx                 # Детальная кейса (MDX)
  request-demo/
    page.tsx                   # Форма
  thank-you/
    page.tsx
  api/
    lead/route.ts              # POST handler (если не server actions)

components/
  layout/
    header.tsx                 # Sticky header + якоря + CTA
    footer.tsx
  sections/
    hero.tsx
    problem-solution.tsx
    how-it-works.tsx
    features-main.tsx
    use-cases-tabs.tsx
    add-ons.tsx
    packages.tsx
    implementation-timeline.tsx
    security-accordion.tsx
    faq.tsx
    final-cta.tsx
  forms/
    request-demo-form.tsx

content/
  cases/                       # MDX с frontmatter
  site.ts                      # Единый объект с копирайтом

lib/
  lead/
    schema.ts                  # Zod schema
    persist.ts                 # DB insert (source of truth)
    dispatch.ts                # Email/CRM + retries
  analytics/
    events.ts
```

---

## 6. Структура главной страницы

| № | Блок | Содержание |
|---|------|------------|
| 1 | **Header** | Логотип + якоря + CTA "Запросить демо" + "Скачать презентацию (PDF)" |
| 2 | **Hero** | H1 + sub + 2 CTA + мокап с блоком "Источники" |
| 3 | **Social Proof** | Логотипы клиентов (или "Клиент под NDA") |
| 4 | **Problem → Solution** | 3 проблемы + 3 результата (без процентов) |
| 5 | **How It Works** | 5 шагов: источники → индексация → вопрос → поиск → ответ+ссылки |
| 6 | **Features** | 6 карточек основной услуги |
| 7 | **Use Cases** | Табы: ИТ / Юристы / HR / Закупки / Производство |
| 8 | **Add-ons** | 2 блока: Интеграции + Безопасность/LLMOps |
| 9 | **Packages** | Pilot / Business / Enterprise (без цен, с CTA) |
| 10 | **Timeline** | 4 этапа внедрения |
| 11 | **Security** | Чек-лист/аккордеон (без абсолютных обещаний) |
| 12 | **FAQ** | 7–10 вопросов |
| 13 | **Final CTA** | "Покажем демо на ваших документах" + форма + Footer |

---

## 7. Варианты реализации

### Вариант A — MVP (рекомендуемый)
**Когда:** Быстрый запуск, первые лиды, без публичного демо.

**Состав:**
- Главная (якорный лендинг)
- Кейсы (список + детальные)
- Форма демо/расчёта

**Cost–Latency–Quality:**
- Cost: низкий (SSG, минимум динамики)
- Latency: низкая
- Quality: высокая для MVP

---

### Вариант B — Trust-Heavy Enterprise
**Когда:** ICP включает CISO/ИБ/КИИ/госсектор.

**Добавить:**
- `/security` — контуры деплоя, RBAC/SSO, аудит, LLMOps
- `/architecture` — схема (данные → индекс → retrieval → генерация → цитаты)
- PDF-презентация как вторичный CTA

**Cost–Latency–Quality:**
- Cost: средний (контент/диаграммы)
- Latency: низкая (SSG)
- Quality: максимальная для Enterprise

---

### Вариант C — Gated Demo (опционально)
**Когда:** Есть бюджет на эксплуатацию, безопасный датасет, ресурс на AppSec/SRE.

**Ограничения:**
- Только фиксированный датасет (без загрузки файлов)
- Нет tool-use (только Q&A + источники)
- Rate limit + captcha + дневной бюджет токенов
- Дисклеймер: "демо показывает механику"

**Критерий остановки:** Инциденты безопасности или рост cost/лид → отключить демо.

---

## 8. Форма заявки

### Поля
| Поле | Тип | Обязательное |
|------|-----|--------------|
| Имя | text | да |
| Компания | text | да |
| Роль | select | да |
| Email | email | да |
| Telegram | text | нет |
| Контур | select: on-prem / облако РФ / не знаю | да |
| Источники данных | checkbox: Confluence, SharePoint, 1С, etc. | нет |
| Кол-во пользователей | select | нет |
| Комментарий | textarea | нет |
| Согласие на ПДн | checkbox | да |

### Логика обработки
1. Валидация (Zod) + антиспам (rate limit + honeypot)
2. Запись в БД (source of truth)
3. Отправка уведомления (email/telegram/CRM)
4. UTM-поля сохранять для атрибуции

---

## 9. SRE Checklist

### Failure Modes
- [ ] Потеря лида из-за сбоя почты/CRM
- [ ] Дубли заявок (двойной submit)
- [ ] Спам-волна в форму
- [ ] Деградация LCP из-за видео/шрифтов
- [ ] Ошибки JS на клиенте

### Observability
- **Client errors:** Sentry + алерты на spike
- **Form metrics:** `lead_submit_attempt` / `success` / `fail`, время ответа, доля дублей
- **Performance:** RUM + Lighthouse CI на PR

### План деградации
- **Источник истины:** сначала в БД, потом email/CRM
- **Idempotency:** `hash(email + company + date_bucket)`
- **Retries:** экспоненциальная пауза на email/CRM
- **Fallback:** "Заявка принята" если БД ок, задача на HITL

### Лимиты
- `max_request_body_size` на форме
- Rate limit 5–10 req/min/IP
- Лимит веса hero-видео (или постер + play)

---

## 10. AppSec Checklist

### Threat Model
- [ ] **Prompt injection** (если есть демо)
- [ ] **Data exfiltration** — утечка PII лидов
- [ ] **XSS/HTML injection** — через форму/MDX
- [ ] **Abuse/Spam** — массовые заявки
- [ ] **Supply chain** — уязвимости зависимостей

### Least Privilege
- Секреты только на сервере
- Разделение окружений: dev/stage/prod
- База лидов — отдельная таблица, минимальные права

### HITL-гейты
- Загрузка документов клиента — только после NDA/созвона
- Публикация демо — только после red-team теста

### Sandbox (для варианта C)
- Демо на отдельном ключе с бюджетом
- Фиксированный датасет без секретов
- Никакой загрузки пользовательских файлов

### Content Security
- CSP headers включены
- MDX/markdown санитайзится
- Rate limiting на API

---

## 11. Verification

### Помечено [НЕПОДТВЕРЖДЕНО]
- Название бренда/продукта
- Логотипы клиентов
- Цифры эффекта/ROI
- SSO и конкретные интеграции "из коробки"
- Сертификаты/аттестации/реестры
- SLA-уровни
- Сроки "за N дней/недель"

### Правило контента
Любые сильные утверждения требуют:
- Ссылку на кейс/документ, **или**
- Формулировку без чисел и гарантий, **или**
- Пометку [НЕПОДТВЕРЖДЕНО] и исключение из публичной версии

### Безопасные формулировки
| Нельзя | Можно |
|--------|-------|
| "Сертифицировано ФСТЭК" | "Под требования ИБ заказчика" |
| "100% защита данных" | "Развёртывание в контуре заказчика" |
| "Сократит расходы на 70%" | "Ускоряет поиск информации" |
| "Данные никогда не утекут" | "Политика обработки согласуется" |

---

## 12. Контент-шаблоны

### Hero
```
H1: Корпоративный AI-ассистент в закрытом контуре

Sub: Отвечает по документам со ссылками на источники.
     Разворачивается on-prem / в облаке РФ.
     Под контроль доступа и требования безопасности.

CTA1: Запросить демо
CTA2: Посмотреть кейсы
```

### Security-блок
```
- Развёртывание: on-prem / облако РФ
- Контроль доступа: RBAC; SSO — при наличии в инфраструктуре
- Аудит: журнал действий (объём согласуется)
- Передача данных: настраивается политиками
```

### Кейс (структура)
```
1. Контекст (отрасль, размер, задача)
2. Цель (что хотели получить)
3. Источники данных (что подключили)
4. Архитектура (простая схема)
5. Результат (качественное описание, без % если нет данных)
6. Сроки
7. CTA: Запросить демо
```

---

## 13. Требования к данным

### Обязательно для запуска
- Описания услуг (основная + 2 доп.)
- 3–5 кейсов (можно обезличить)
- 1–2 мокапа интерфейса
- FAQ (7–10 вопросов)
- Политика обработки ПДн

### Интеграции
- Email-провайдер (Resend/SendGrid)
- БД для лидов (Supabase/Postgres)
- Analytics (GTM/Vercel Analytics)
- Опционально: CRM, Telegram-бот

---

## 14. Критерии "Стоп/Продолжать"

| Переход | Критерий |
|---------|----------|
| **A → B** | ≥ 30% отказов на пресейле про безопасность/контур |
| **A → C** | Стабильный ICP-трафик + конверсию ограничивает "пощупать" + есть ресурс AppSec/SRE |
| **C → откат** | Инциденты безопасности или cost/лид > порога |

---

## 15. Промпт для v0

```
Сделать современный B2B-лендинг (RU) для "Корпоративный LLM-ассистент в закрытом контуре (RAG)".

Дизайн-система уже есть — не придумывать цвета/шрифты.
Нейтральная дорогая подача, много воздуха, карточки.

Структура строго:
1. Sticky Header (логотип + якоря + CTA)
2. Hero: H1 + sub + 2 CTA + мокап с блоком "Источники"
3. Social proof (логотипы-плейсхолдеры)
4. Problem → Solution (3+3 карточки, без процентов)
5. How it works (5 steps + бейджи RAG/RBAC/Audit)
6. Features (6 карточек основной услуги)
7. Use cases (табы: ИТ/Юристы/HR/Закупки/Производство)
8. Add-ons (2 блока: Интеграции + LLMOps)
9. Packages (Pilot/Business/Enterprise, без цен)
10. Timeline (4 этапа)
11. Security (accordion, без абсолютных обещаний)
12. FAQ (7–10 вопросов)
13. Final CTA + Footer

Адаптив: desktop/tablet/mobile.
Не использовать непроверяемые проценты и логотипы.
```
